webpackJsonp([8],{207:function(e,n,t){function a(e){t(353)}var i=t(117)(t(305),t(385),a,null,null);e.exports=i.exports},305:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"UserList",data:function(){return{source:!1,loading:!0,activeName:"all",filter:"全部客户",rank:"默认排序",selectChange:!1,customerParam:{page:1,type:1,from:"customer_field_list"},pageParam:{},filters:[{value:"0",label:"全部客户"},{value:"1",label:"决策人"},{value:"2",label:"非决策人"}],ranks:[{value:"0",label:"默认排序",name:""},{value:"1",label:"按成交金额排序",name:"total_price"},{value:"2",label:"按最近成交排序",name:"deal_time"}],clientList:{},pagination:{}}},mounted:function(){var e=this;"fieldData"==e.$route.query.source&&(e.source=!0),this.getClientList(),this.$root.Bus.$on("addSuc",function(n){var t=n[0],a=n[1];for(var i in e.clientList){var r=e.clientList[i].mobile,o=e.clientList[i].company_id;r==t&&o==a&&(e.clientList[i].is_created=1)}}),e.$root.Bus.$on("tagDraft",function(){var n=window.localStorage;for(var t in e.clientList){var a=e.clientList[t].company_id,i=e.clientList[t].mobile,r="draft_"+i+a;e.clientList[t].is_draft=!1,n[r]&&(e.clientList[t].is_draft=!0)}}),this.$bus.$off("flashUserList"),this.$bus.$on("flashUserList",e.getClientList)},methods:{setFilterParam:function(e){var n=this;n.customerParam.page=1,n.customerParam.identity=e,n.getClientList()},setRankParam:function(e){var n=this;n.customerParam.page=1;var t=t=1==e?"total_price":"deal_time";n.customerParam.sort=t,n.customerParam.order=1,n.getClientList()},getClientList:function(e){var n=this;n.$ajax.get(n.$api.getModuleHost("CRM","/manage/getCustomerList"),n.customerParam).then(function(e){if(n.selectChange=!1,1e3==e.code){n.$parent.listData=!0,n.clientList=e.data,n.pageParam.total=e.total,n.loading=!1;var t=n.clientList[0].id,a="";"fieldData"==n.$route.query.source&&(a="?source=fieldData"),n.$router.push({path:"/foreground/mnglist/mngdetail/"+t+a})}else console.log("currently has none clients' data")}).catch(function(e){console.error(e)})},handleCurrentChange:function(e){var n=this;n.loading=!0,n.customerParam.page=e,n.getClientList()}}}},327:function(e,n,t){n=e.exports=t(191)(!0),n.push([e.i,".container{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:1280px}.pointer{cursor:pointer}.el-form-item{margin-bottom:14px}#nav-menu{width:500px;min-width:500px;min-height:100vh;border-radius:0;overflow-y:auto;background:#fff;border:1px solid #d1dbe5;border-top:none;-webkit-box-sizing:border-box;box-sizing:border-box}#nav-menu .el-menu{background-color:#fff}#nav-menu .el-menu-item,#nav-menu .el-submenu .el-submenu__title{padding-top:10px;height:70px;line-height:20px}#nav-menu .el-menu-item:hover,#nav-menu .el-submenu .el-submenu__title:hover{background:#eff2f7}#nav-menu .info-btm{margin-top:10px}#nav-menu .client-check-btn{float:right;margin-top:10px}#nav-menu .filter-wrap{padding:12px 20px}#nav-menu .filter-wrap .grid-content h3{line-height:36px}#nav-menu .filter-wrap .grid-content .rank-list{margin-left:10px}.el-tabs--border-card>.el-tabs__content{padding:0}.el-tabs--border-card{-webkit-box-shadow:none;box-shadow:none;border:none}.el-menu-item.is-active{background:#e5e9f2;color:#20a0ff}.pagination{margin-top:20px}.client-list li{border-bottom:1px solid #d1dbe5}.client-list li a{font-size:12px;color:#333}.company-name{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.draft{color:#ff4949}.el-menu-item.is-active{background-color:transparent}.el-menu-item.hackActive{background:#e5e9f2}#content_container{min-height:100vh;-webkit-box-flex:1;-ms-flex:1 auto;flex:1 auto;position:relative;color:#333;padding:20px}","",{version:3,sources:["D:/VUEPROJECT/boss_crm/src/views/mnglist.page.vue"],names:[],mappings:"AACA,WACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,gBAAkB,CACnB,AACD,SACE,cAAgB,CACjB,AACD,cACE,kBAAoB,CACrB,AACD,UACE,YAAa,AACb,gBAAiB,AACjB,iBAAkB,AAClB,gBAAiB,AACjB,gBAAiB,AACjB,gBAAiB,AACjB,yBAA0B,AAC1B,gBAAiB,AACjB,8BAA+B,AACvB,qBAAuB,CAChC,AACD,mBACE,qBAAuB,CACxB,AACD,iEAEE,iBAAkB,AAClB,YAAa,AACb,gBAAkB,CACnB,AACD,6EAEE,kBAAoB,CACrB,AACD,oBACE,eAAiB,CAClB,AACD,4BACE,YAAa,AACb,eAAiB,CAClB,AACD,uBACE,iBAAmB,CACpB,AACD,wCACE,gBAAkB,CACnB,AACD,gDACE,gBAAkB,CACnB,AACD,wCACE,SAAW,CACZ,AACD,sBACE,wBAAyB,AACjB,gBAAiB,AACzB,WAAa,CACd,AACD,wBACE,mBAAoB,AACpB,aAAe,CAChB,AACD,YACE,eAAiB,CAClB,AACD,gBACE,+BAAiC,CAClC,AACD,kBACE,eAAgB,AAChB,UAAY,CACb,AACD,cACE,uBAAwB,AACxB,mBAAoB,AACpB,eAAiB,CAClB,AACD,OACE,aAAe,CAChB,AAED,wBACE,4BAA8B,CAC/B,AACD,yBACE,kBAAoB,CACrB,AACD,mBACE,iBAAkB,AAClB,mBAAoB,AAChB,gBAAiB,AACb,YAAa,AACrB,kBAAmB,AACnB,WAAY,AACZ,YAAc,CACf",file:"mnglist.page.vue",sourcesContent:["\n.container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  min-width: 1280px;\n}\n.pointer {\n  cursor: pointer;\n}\n.el-form-item {\n  margin-bottom: 14px;\n}\n#nav-menu {\n  width: 500px;\n  min-width: 500px;\n  min-height: 100vh;\n  border-radius: 0;\n  overflow-y: auto;\n  background: #fff;\n  border: 1px solid #d1dbe5;\n  border-top: none;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n#nav-menu .el-menu {\n  background-color: #fff;\n}\n#nav-menu .el-menu-item,\n#nav-menu .el-submenu .el-submenu__title {\n  padding-top: 10px;\n  height: 70px;\n  line-height: 20px;\n}\n#nav-menu .el-menu-item:hover,\n#nav-menu .el-submenu .el-submenu__title:hover {\n  background: #EFF2F7;\n}\n#nav-menu .info-btm {\n  margin-top: 10px;\n}\n#nav-menu .client-check-btn {\n  float: right;\n  margin-top: 10px;\n}\n#nav-menu .filter-wrap {\n  padding: 12px 20px;\n}\n#nav-menu .filter-wrap .grid-content h3 {\n  line-height: 36px;\n}\n#nav-menu .filter-wrap .grid-content .rank-list {\n  margin-left: 10px;\n}\n.el-tabs--border-card > .el-tabs__content {\n  padding: 0;\n}\n.el-tabs--border-card {\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  border: none;\n}\n.el-menu-item.is-active {\n  background: #E5E9F2;\n  color: #20A0FF;\n}\n.pagination {\n  margin-top: 20px;\n}\n.client-list li {\n  border-bottom: 1px solid #d1dbe5;\n}\n.client-list li a {\n  font-size: 12px;\n  color: #333;\n}\n.company-name {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.draft {\n  color: #ff4949;\n}\n/*userListActiveHack*/\n.el-menu-item.is-active {\n  background-color: transparent;\n}\n.el-menu-item.hackActive {\n  background: #E5E9F2;\n}\n#content_container {\n  min-height: 100vh;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 auto;\n          flex: 1 auto;\n  position: relative;\n  color: #333;\n  padding: 20px;\n}\n"],sourceRoot:""}])},353:function(e,n,t){var a=t(327);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(192)("b32b0282",a,!0)},385:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.source?t("div",{staticStyle:{padding:"20px","border-bottom":"1px solid #d1dbe5"}},[t("a",{staticStyle:{color:"#409EFF","font-size":"16px"},attrs:{href:"/foreground/mngview/fieldData?source=mnglist"}},[e._v("返回")])]):e._e(),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"container",attrs:{"element-loading-text":"拼命加载中"}},[t("div",{attrs:{id:"nav-menu"}},[t("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(n){e.activeName=n},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"全部",name:"all"}},[t("el-row",{staticClass:"filter-wrap"},[t("el-col",{attrs:{span:7}},[t("div",{staticClass:"grid-content"},[t("h3",[e._v("共"+e._s(e.pageParam.total)+"个客户")])])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("div",{staticClass:"grid-content"},[t("el-select",{key:"all-filter",on:{change:e.setFilterParam},model:{value:e.filter,callback:function(n){e.filter=n},expression:"filter"}},e._l(e.filters,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),t("el-col",{attrs:{span:10}},[t("div",{staticClass:"grid-content"},[t("el-select",{key:"all-rank",staticClass:"rank-list",on:{change:e.setRankParam},model:{value:e.rank,callback:function(n){e.rank=n},expression:"rank"}},e._l(e.ranks,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,name:e.name,value:e.value}})}))],1)])],1),e._v(" "),t("el-menu",{staticClass:"client-list",attrs:{"default-active":""}},e._l(e.clientList,function(n,a){return t("el-menu-item",{class:{hackActive:e.$route.path=="/foreground/mnglist/mngdetail/"+n.id},attrs:{index:""+a}},[t("router-link",{attrs:{to:"/foreground/mnglist/mngdetail/"+n.id}},[t("el-col",{attrs:{span:18}},[t("div",{staticClass:"clearfix"},[t("el-col",{attrs:{span:5}},[t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(n.identity))])],1),e._v(" "),t("el-col",{attrs:{span:5}},[e._v("\r\n                        "+e._s(n.name)+"\r\n                      ")]),e._v(" "),t("el-col",{staticClass:"company-name",attrs:{span:13}},[t("span",[e._v("\r\n                          "+e._s(n.company)+" \r\n                        ")])])],1),e._v(" "),t("div",{staticClass:"clearfix info-btm"},[t("el-col",{attrs:{span:12}},[e._v("\r\n                        总成交金额："+e._s(n.total_price)+"元\r\n                      ")]),e._v(" "),t("el-col",{attrs:{span:12}},[e._v("\r\n                        最近成交时间："+e._s(n.deal_time)+"\r\n                      ")])],1)]),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-button",{staticClass:"client-check-btn",attrs:{size:"small",type:"primary"}},[e._v(e._s(0==n.is_created?"创建客户":"查看信息"))])],1)],1)],1)})),e._v(" "),t("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"page-size":10,"current-page":e.customerParam.page,layout:"total, prev, pager, next",total:e.pageParam.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(n){e.customerParam.page=n}}})],1)],1)],1),e._v(" "),t("div",{attrs:{id:"content_container"}},[t("router-view")],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=8.3644f62ebe3e7877f883.js.map